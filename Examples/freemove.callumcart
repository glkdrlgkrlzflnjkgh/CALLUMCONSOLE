# $ title: FreeMove Example
# $ author: glkdrlgkrlzflnjkgh
# $ version: 1.1
# $ description: Move a sprite with WASD. Press F to exit. One-time threaded print.
# $ audio: true
# $ threading: true

player = {"x": 60, "y": 60, "speed": 1}
thread_started = False

def threaded_message():
    print("ğŸ§µ Thread says: Hello from the background!")

def setup():
    print("Use WASD keys to move the sprite around the screen.")
    global thread_started
    if not thread_started:
        thread = Thread(threaded_message)
        thread.start()
        thread_started = True

def update():
    global player
    input = get_input()
    if input['start']:
        print("Exiting...")
        exit_game()
    if input["left"]:
        player["x"] = player["x"] - player["speed"]
    if input["right"]:
        player["x"] = player["x"] + player["speed"]
    if input["up"]:
        player["y"] = player["y"] - player["speed"]
    if input["down"]:
        player["y"] = player["y"] + player["speed"]

    sprite = [
        [0,0,0,0,0,0,0,0],
        [0,2,2,2,2,2,2,0],
        [0,2,3,3,3,3,2,0],
        [0,2,3,1,1,3,2,0],
        [0,2,3,1,1,3,2,0],
        [0,2,3,3,3,3,2,0],
        [0,2,2,2,2,2,2,0],
        [0,0,0,0,0,0,0,0]
    ]

    draw_custom_sprite(sprite, int(player["x"]), int(player["y"]))